"use strict";(self.webpackChunkgoogle_books_finder=self.webpackChunkgoogle_books_finder||[]).push([[304],{2304:function(e,t,n){n.r(t),n.d(t,{default:function(){return G}});var i=n(1413),a=n(9439),s=n(2791),r=n(2506),o=n(1573),l=n(364),u=n(7689),c=n(8869),d=n(3787),f=n(2237),h=n(1107),b=n(184);var m=(0,l.$j)((function(e){return{isLoading:e.loading.isLoading}}),(function(e){return{fetchFromFavorites:function(){return e((0,h.o)())}}}))((function(e){var t=(0,u.s0)(),n=e.fetchFromFavorites,i=e.isLoading,a=(0,f.wR)().favoriteBooks;return(0,b.jsx)(d.zx,{disabled:!a.areNotEmpty()||i,className:"button--favorites",onClick:function(){n(),t(c.Z.books)},children:"Ulubione"})})),v=n(5987),j=n(1537),g=["isDisabled","label","name"];function p(e){e.target.focus()}var k,x=function(e){var t=e.isDisabled,n=e.label,a=e.name,s=(0,v.Z)(e,g);return(0,b.jsx)(d.u,{role:"tooltip",title:"Nie mniej ni\u017c dwa znaki w tym jeden alfanumeryczny",placement:"top",children:(0,b.jsx)(j.Z,(0,i.Z)({disabled:t,"aria-label":"input field for ".concat(a," field"),label:n,id:a,size:"small",variant:"outlined",onMouseEnter:p},s))})},w=n(871),y=n.n(w),Z=n(2809),T=n.n(Z),S=n(9478),C=function(e){var t={inauthor:e.authors,intitle:e.title,subject:e.subject};return"https://www.googleapis.com/books/v1/volumes?q="+y().flow(y().toPairs,y().filter((function(e){return!(""===e[1])})),y().map((function(e){return T()(e,":")})),y().join("+"))(t)+"&maxResults=40"+S._M+"&startIndex="},E=n(5671),z=n(3144),_=n(9714);!function(e){e.authors="Autor",e.title="Tytu\u0142",e.subject="Etykiety"}(k||(k={}));var A,F,R,U=[{name:_.a.authors,placeholder:k.authors},{name:_.a.title,placeholder:k.title},{name:_.a.subject,placeholder:k.subject}],L=new(function(){function e(t){(0,E.Z)(this,e),this.fields=void 0,this.fields=t}return(0,z.Z)(e,[{key:"getPlaceholder",value:function(e){return this.fields.filter((function(t){return t.name===e}))[0].placeholder}},{key:"getSearchFieldsWithInitialValues",get:function(){var e={};for(var t in this.fields)e[this.fields[t].name]="";return e}},{key:"getFields",get:function(){return this.fields}}]),e}())(U),N=n(7790),V=n.n(N),I=n(6364),O=n.n(I),W=n(4942);!function(e){e.AUTHORS="authors",e.TITLE="title",e.SUBJECT="subject"}(R||(R={}));var B=(A={},(0,W.Z)(A,R.AUTHORS,"Autor"),(0,W.Z)(A,R.TITLE,"Tytu\u0142"),(0,W.Z)(A,R.SUBJECT,"Etykiety"),A),J=(F={},(0,W.Z)(F,R.AUTHORS,""),(0,W.Z)(F,R.TITLE,""),(0,W.Z)(F,R.SUBJECT,""),F),P={isValid:!0,message:""},D=function(e){var t,n=P,i=[],a=V()(e);if(!O()(a))for(var s in a)if(!1===((t=a[s]).length>=2&&/\d|[A-z]/.test(t))){var r=L.getPlaceholder(s);n={isValid:!1,message:"Nieprawid\u0142owe dane w polu "+r},i.push(r)}return!1===n.isValid&&(n.message="Nieprawid\u0142owe warto\u015bci w polach: "+i.join(", ")),n},H=n(5374),M=n(6165),q=n(7014),G=function(){var e=s.useState(P),t=(0,a.Z)(e,2),n=t[0],u=t[1],c=s.useState(""),f=(0,a.Z)(c,2),h=f[0],v=f[1],j=(0,o.i)((function(e){return e.loading.isLoading}),l.wU),g=(0,l.v9)(q.YW),p=(0,H.l)(),k=(0,r.TA)({initialValues:J,onSubmit:function(e){var t=D(e);u(t),t.isValid&&v(C(e))}}),w=k.values,y=k.handleSubmit,Z=k.getFieldProps,T=k.handleReset,S=s.useCallback((function(){return""===Object.values(w).join("")}),[w]),E=s.useCallback((function(){u(P),T(null)}),[]);return s.useEffect((function(){var e=new AbortController;return h&&p(h,e),function(){return null===e||void 0===e?void 0:e.abort()}}),[h,p]),(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(M._z,{maxWidth:!1,disableGutters:!0,sx:{alignItems:"unset"},children:[(0,b.jsx)(d.sF,{}),(0,b.jsx)(d.bZ,{shouldRender:!n.isValid,alertMessage:n.message}),(0,b.jsxs)(M.tW,{id:"search__form",children:[(0,b.jsx)(M.A4,{children:Object.values(R).map((function(e){return(0,b.jsx)(x,(0,i.Z)({isDisabled:j,label:B[e]},Z(e)),e)}))}),(0,b.jsxs)(M.RJ,{children:[(0,b.jsx)(d.zx,{form:"search__form",disabled:j||S()||!g,onClick:y,className:"button--ok",type:"submit",children:"Szukaj"}),(0,b.jsx)(d.zx,{disabled:j||S(),onClick:E,className:"button--problem",type:"reset",children:"Wyczy\u015b\u0107"}),(0,b.jsx)(m,{})]})]})]})})}}}]);
//# sourceMappingURL=304.7e28e491.chunk.js.map