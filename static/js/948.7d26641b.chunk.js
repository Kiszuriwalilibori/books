"use strict";(self.webpackChunkbooks=self.webpackChunkbooks||[]).push([[948],{8948:function(n,e,i){i.r(e),i.d(e,{default:function(){return M}});var r=i(5043),a=i(4514),s=i(9379),o=i(5544),t=i(1511),l=i(8222),u=i.n(l),c=i(4117),d=i(292),f=i(2606),b=i(3216),m=i(7861),h=i(3712),k=i(3183),v=i(8234),j=i(4558);var p=i(579);var g=(0,a.Ng)(function(n){return{isLoading:n.loading.isLoading}},function(n){return{fetchFromFavorites:function(){return n(function(n){try{var e=new k.v_(function(n){return n.kind===j.XI}).getAll();n((0,v.storeBooks)(e)),n((0,v.setIsFromNetwork)(!1))}catch(r){var i=r instanceof Error?r.message:"Podczas pr\xf3by pobrania ulubionych wyst\u0105pi\u0142 b\u0142\u0105d";n((0,v.showError)({isError:!0,errorMessage:i}))}})}}})(function(n){var e=(0,b.Zp)(),i=n.fetchFromFavorites,a=n.isLoading,s=(0,h.cs)().favoriteBooks,o=(0,c.Bd)().t,t=(0,r.useCallback)(function(){i(),e(m.A.books)},[i,e]);return(0,p.jsx)(d.$n,{disabled:!s.areNotEmpty()||a,className:"button--favorites",onClick:t,children:o("actions.favorites")})}),x=i(45),C=i(8623),y=["isDisabled","label","name","fieldErrors"],B=(0,r.memo)(function(n){var e=n.isDisabled,i=n.label,a=n.name,o=n.fieldErrors,t=(0,x.A)(n,y),l=(0,r.useMemo)(function(){return null===o||void 0===o?void 0:o.find(function(n){return n.field===a})},[o,a]),u=Boolean(l&&l.errors.length>0),c=(0,r.useMemo)(function(){var n="Wymagania:\n\u2022 Minimum 2 znaki\n\u2022 Co najmniej jedna litera lub cyfra\n\u2022 Bez spacji na pocz\u0105tku i ko\u0144cu";return u&&(n+="\n\nB\u0142\u0119dy w tym polu:\n".concat(l.errors.map(function(n){return"\u2022 ".concat(n)}).join("\n"))),n},[u,l]);return(0,p.jsx)(d.m_,{role:"tooltip",title:c,placement:"top",arrow:!0,children:(0,p.jsx)(C.A,(0,s.A)({disabled:e,"aria-label":"input field for ".concat(a," field"),label:i,id:a,size:"small",variant:"outlined"},t))})});B.displayName="SearchField";var E=B,w=i(3698),F=i(5610),L=function(n){var e=n.isLoading,i=n.isOnline,a=n.onSubmit,l=n.onValidationChange,b=u()(),m=r.useState(w.T9),h=(0,o.A)(m,2),k=h[0],v=h[1],j=(0,c.Bd)().t,x=(0,t.Wx)({initialValues:w.LX,onSubmit:function(n){var e=(0,F.TT)(n);v(e),l(e),e.isValid&&a(n)}}),C=x.values,y=x.handleSubmit,B=x.getFieldProps,L=x.handleReset,N=(0,r.useCallback)(function(){return""===Object.values(C).join("")},[C]),A=(0,r.useCallback)(function(){v(w.T9),l(w.T9),L(null)},[L,l]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(d.am,{shouldRender:!k.isValid,alertMessage:k.message,fieldErrors:k.fieldErrors,onClose:function(){v(w.T9),l(w.T9)}}),(0,p.jsxs)(f.kW,{id:b,children:[(0,p.jsx)(f.OM,{children:Object.values(w.y7).map(function(n){return(0,p.jsx)(E,(0,s.A)({isDisabled:e,label:w.Pu[n],fieldErrors:k.fieldErrors},B(n)),n)})}),(0,p.jsxs)(f.aL,{children:[(0,p.jsx)(d.$n,{form:b,disabled:e||N()||!i,onClick:y,className:"button--ok",type:"submit",children:j("searchPage.searchButton")}),(0,p.jsx)(d.$n,{disabled:e||N(),onClick:A,className:"button--problem",type:"reset",children:j("searchPage.clearButton")}),(0,p.jsx)(g,{})]})]})]})},N=i(3404),A=i(6746),M=function(){var n=(0,a.d4)(N.QW),e=(0,a.d4)(N.tp),i=(0,A.i)().searchBooks,s=(0,r.useCallback)(function(n){i(n)},[i]),o=(0,r.useCallback)(function(n){},[]);return(0,p.jsxs)(f.LN,{maxWidth:!1,disableGutters:!0,sx:{alignItems:"unset"},children:[(0,p.jsx)(d.M9,{}),(0,p.jsx)(L,{isLoading:n,isOnline:e,onSubmit:s,onValidationChange:o})]})}}}]);
//# sourceMappingURL=948.7d26641b.chunk.js.map