"use strict";(self.webpackChunkgoogle_books_finder=self.webpackChunkgoogle_books_finder||[]).push([[773],{4773:function(e,t,n){n.r(t),n.d(t,{default:function(){return q}});var i=n(1413),a=n(9439),s=n(2791),r=n(2506),o=n(1573),l=n(364),u=n(7689),c=n(8869),d=n(6710),f=n(4113),h=n(1107),b=n(184);var m=(0,l.$j)((function(e){return{isLoading:e.loading.isLoading}}),(function(e){return{fetchFromFavorites:function(){return e((0,h.o)())}}}))((function(e){var t=(0,u.s0)(),n=e.fetchFromFavorites,i=e.isLoading,a=(0,f.wR)().favoriteBooks;return(0,b.jsx)(d.zx,{disabled:!a.areNotEmpty()||i,className:"button--favorites",onClick:function(){n(),t(c.Z.books)},children:"Ulubione"})})),j=n(6165),g=function(){return(0,b.jsx)(j.es,{children:"Google Books Finder"})},v=s.memo(g),p=n(5987),k=n(1537),x=["isDisabled","label"];function w(e){e.target.focus()}var y,Z=function(e){var t=e.isDisabled,n=e.label,a=(0,p.Z)(e,x);return(0,b.jsx)(d.u,{role:"tooltip",title:"Nie mniej ni\u017c dwa znaki w tym jeden alfanumeryczny",placement:"top",children:(0,b.jsx)(k.Z,(0,i.Z)({disabled:t,"aria-label":"input field for ".concat(e.name," field"),label:n,id:e.name,size:"small",variant:"outlined",onMouseEnter:w},a))})},T=n(871),S=n.n(T),C=n(2809),E=n.n(C),z=function(e){var t={inauthor:e.authors,intitle:e.title,subject:e.subject};return"https://www.googleapis.com/books/v1/volumes?q="+S().flow(S().toPairs,S().filter((function(e){return!(""===e[1])})),S().map((function(e){return E()(e,":")})),S().join("+"))(t)+"&maxResults=40&startIndex="},A=n(5671),F=n(3144),_=n(9714);!function(e){e.authors="Autor",e.title="Tytu\u0142",e.subject="Etykiety"}(y||(y={}));var R,U,L,N=[{name:_.a.authors,placeholder:y.authors},{name:_.a.title,placeholder:y.title},{name:_.a.subject,placeholder:y.subject}],V=new(function(){function e(t){(0,A.Z)(this,e),this.fields=void 0,this.fields=t}return(0,F.Z)(e,[{key:"getPlaceholder",value:function(e){return this.fields.filter((function(t){return t.name===e}))[0].placeholder}},{key:"getSearchFieldsWithInitialValues",get:function(){var e={};for(var t in this.fields)e[this.fields[t].name]="";return e}},{key:"getFields",get:function(){return this.fields}}]),e}())(N),I=n(7790),B=n.n(I),O=n(6364),P=n.n(O),J=n(4942);!function(e){e.AUTHORS="authors",e.TITLE="title",e.SUBJECT="subject"}(L||(L={}));var W=(R={},(0,J.Z)(R,L.AUTHORS,"Autor"),(0,J.Z)(R,L.TITLE,"Tytu\u0142"),(0,J.Z)(R,L.SUBJECT,"Etykiety"),R),D=(U={},(0,J.Z)(U,L.AUTHORS,""),(0,J.Z)(U,L.TITLE,""),(0,J.Z)(U,L.SUBJECT,""),U),H={isValid:!0,message:""},G=function(e){var t,n=H,i=[],a=B()(e);if(!P()(a))for(var s in a)if(!1===((t=a[s]).length>=2&&/\d|[A-z]/.test(t))){var r=V.getPlaceholder(s);n={isValid:!1,message:"Nieprawid\u0142owe dane w polu "+r},i.push(r)}return!1===n.isValid&&(n.message="Nieprawid\u0142owe warto\u015bci w polach: "+i.join(", ")),n},M=n(5374),q=function(){var e=s.useState(H),t=(0,a.Z)(e,2),n=t[0],u=t[1],c=s.useState(""),f=(0,a.Z)(c,2),h=f[0],g=f[1],p=(0,o.i)((function(e){return e.loading.isLoading}),l.wU),k=(0,M.l)(),x=(0,r.TA)({initialValues:D,onSubmit:function(e){var t=G(e);u(t),t.isValid&&g(z(e))}}),w=x.values,y=x.handleSubmit,T=x.getFieldProps,S=x.handleReset,C=s.useCallback((function(){return""===Object.values(w).join("")}),[w]),E=s.useCallback((function(){u(H),S(null)}),[]);return s.useEffect((function(){var e=new AbortController;return h&&k(h,e),function(){return null===e||void 0===e?void 0:e.abort()}}),[h,k]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(d.X8,{label:"Search Page"}),(0,b.jsxs)(j._z,{maxWidth:!1,disableGutters:!0,sx:{alignItems:"unset"},children:[(0,b.jsx)(v,{}),(0,b.jsx)(d.bZ,{shouldRender:!n.isValid,alertMessage:n.message}),(0,b.jsxs)(j.tW,{id:"search__form",children:[(0,b.jsx)(j.A4,{children:Object.values(L).map((function(e){return(0,b.jsx)(Z,(0,i.Z)({isDisabled:p,label:W[e]},T(e)),e)}))}),(0,b.jsxs)(j.RJ,{children:[(0,b.jsx)(d.zx,{form:"search__form",disabled:p||C(),onClick:y,className:"button--ok",type:"submit",children:"Szukaj"}),(0,b.jsx)(d.zx,{disabled:p||C(),onClick:E,className:"button--problem",type:"reset",children:"Wyczy\u015b\u0107"}),(0,b.jsx)(m,{})]})]})]})]})}}}]);
//# sourceMappingURL=773.cd45033b.chunk.js.map