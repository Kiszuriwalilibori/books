"use strict";(self.webpackChunkgoogle_books_finder=self.webpackChunkgoogle_books_finder||[]).push([[682],{8682:function(e,t,n){n.r(t),n.d(t,{default:function(){return q}});var i=n(1413),r=n(9439),o=n(2791),a=n(2506),s=n(1573),l=n(364),u=(0,n(5229).Z)((function(e){return{root:{display:"flex",flexDirection:"column",flexWrap:"wrap",justifyContent:"center",alignItems:"center","& .MuiTextField-root":{margin:"8px",width:"25ch",boxShadow:"0 1px 1px rgba(0,0,0,0.08), 0 2px 2px rgba(0,0,0,0.12), 0 4px 4px rgba(0,0,0,0.16),0 8px 8px rgba(0,0,0,0.20);"},"& .MuiInputBase-root":{color:"white !important",fontFamily:"Open Sans, sans-serif !important",backgroundColor:"rgba(122, 194, 33, 0.8)","& :focus":{outline:"2px solid #1076AB",outlineOffset:"-8px"}},"& .MuiFormLabel-root":{color:"white !important",fontFamily:"Montserrat"},"& .MuiOutlinedInput-notchedOutline":{border:"3px solid",borderColor:"rgb(122, 194, 33)!important"}}}})),c=n(5395),d=n(7689),f=n(8869),h=n(1057),m=n(4113),b=n(1107),p=n(184);var g=(0,l.$j)((function(e){return{isLoading:e.loading.isLoading}}),(function(e){return{fetchFromFavorites:function(){return e((0,b.o)())}}}))((function(e){var t=(0,d.s0)(),n=e.fetchFromFavorites,i=e.isLoading,r=(0,m.wR)().favoriteBooks;return(0,p.jsx)(h.zx,{disabled:!r.areNotEmpty()||i,className:"button--favorites",onClick:function(){n(),t(f.Z.books)},children:"Ulubione"})})),x=o.memo((function(){return(0,p.jsx)("header",{className:"search__logo",children:"Google Books Finder"})})),v=n(5987),j=n(1537),k=["isDisabled","label"];function w(e){e.target.focus()}var y,Z=function(e){var t=e.isDisabled,n=e.label,r=(0,v.Z)(e,k);return(0,p.jsx)(h.u,{role:"tooltip",title:"Nie mniej ni\u017c dwa znaki w tym jeden alfanumeryczny",placement:"top",children:(0,p.jsx)(j.Z,(0,i.Z)({disabled:t,"aria-label":"input field for ".concat(e.name," field"),label:n,id:e.name,size:"small",variant:"outlined",onMouseEnter:w},r))})},T=n(871),C=n.n(T),S=n(2809),_=n.n(S),F=function(e){var t={inauthor:e.authors,intitle:e.title,subject:e.subject};return"https://www.googleapis.com/books/v1/volumes?q="+C().flow(C().toPairs,C().filter((function(e){return!(""===e[1])})),C().map((function(e){return _()(e,":")})),C().join("+"))(t)+"&maxResults=40&startIndex="},E=n(5671),N=n(3144),I=n(9714);!function(e){e.authors="Autor",e.title="Tytu\u0142",e.subject="Etykiety"}(y||(y={}));var z,A,O,L=[{name:I.a.authors,placeholder:y.authors},{name:I.a.title,placeholder:y.title},{name:I.a.subject,placeholder:y.subject}],U=new(function(){function e(t){(0,E.Z)(this,e),this.fields=void 0,this.fields=t}return(0,N.Z)(e,[{key:"getPlaceholder",value:function(e){return this.fields.filter((function(t){return t.name===e}))[0].placeholder}},{key:"getSearchFieldsWithInitialValues",get:function(){var e={};for(var t in this.fields)e[this.fields[t].name]="";return e}},{key:"getFields",get:function(){return this.fields}}]),e}())(L),B=n(7790),M=n.n(B),R=n(6364),V=n.n(R),P=n(4942);!function(e){e.AUTHORS="authors",e.TITLE="title",e.SUBJECT="subject"}(O||(O={}));var D=(z={},(0,P.Z)(z,O.AUTHORS,"Autor"),(0,P.Z)(z,O.TITLE,"Tytu\u0142"),(0,P.Z)(z,O.SUBJECT,"Etykiety"),z),H=(A={},(0,P.Z)(A,O.AUTHORS,""),(0,P.Z)(A,O.TITLE,""),(0,P.Z)(A,O.SUBJECT,""),A),W={isValid:!0,message:""},J=function(e){var t,n=W,i=[],r=M()(e);if(!V()(r))for(var o in r)if(!1===((t=r[o]).length>=2&&/\d|[A-z]/.test(t))){var a=U.getPlaceholder(o);n={isValid:!1,message:"Nieprawid\u0142owe dane w polu "+a},i.push(a)}return!1===n.isValid&&(n.message="Nieprawid\u0142owe warto\u015bci w polach: "+i.join(", ")),n},G=n(5374),q=function(){var e=u(),t=o.useState(W),n=(0,r.Z)(t,2),d=n[0],f=n[1],m=o.useState(""),b=(0,r.Z)(m,2),v=b[0],j=b[1],k=(0,s.i)((function(e){return e.loading.isLoading}),l.wU),w=(0,G.l)(),y=(0,a.TA)({initialValues:H,onSubmit:function(e){var t=J(e);f(t),t.isValid&&j(F(e))}}),T=y.values,C=y.handleSubmit,S=y.getFieldProps,_=y.handleReset,E=o.useCallback((function(){return""===Object.values(T).join("")}),[T]),N=o.useCallback((function(){f(W),_(null)}),[]);return o.useEffect((function(){var e=new AbortController;return v&&w(v,e),function(){return null===e||void 0===e?void 0:e.abort()}}),[v,w]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(h.X8,{label:"Search Page"}),(0,p.jsxs)(c.Z,{maxWidth:!1,disableGutters:!0,sx:{alignItems:"unset"},children:[(0,p.jsx)(x,{}),(0,p.jsx)(h.bZ,{shouldRender:!d.isValid,alertMessage:d.message}),(0,p.jsxs)("form",{className:e.root,id:"search__form",children:[(0,p.jsx)("div",{className:"search__inputs",children:Object.values(O).map((function(e){return(0,p.jsx)(Z,(0,i.Z)({isDisabled:k,label:D[e]},S(e)),e)}))}),(0,p.jsxs)("div",{className:"search__buttons",children:[(0,p.jsx)(h.zx,{form:"search__form",disabled:k||E(),onClick:C,className:"button--ok",type:"submit",children:"Szukaj"}),(0,p.jsx)(h.zx,{disabled:k||E(),onClick:N,className:"button--problem",type:"reset",children:"Wyczy\u015b\u0107"}),(0,p.jsx)(g,{})]})]})]})]})}},5395:function(e,t,n){var i=n(6934),r=n(1614),o=(0,i.ZP)(r.Z)((function(e){e.theme;return{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"100vh"}}));t.Z=o}}]);
//# sourceMappingURL=682.60c609d5.chunk.js.map