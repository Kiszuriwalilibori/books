{"version":3,"file":"static/js/40.45854f87.chunk.js","mappings":"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","sources":["config.ts","types/types.ts","js/BooksManager/tableHelpers/getNumberOfPages.ts","js/BooksManager/tableHelpers/getSinglePageData.ts","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","models/toArray.ts","models/columns.ts","js/BooksManager/tableHelpers/sort.ts","hooks/useGetTableData/getTableDataWorker.ts"],"sourcesContent":["export const sourceGoogleFields = [\"inauthor\", \"intitle\", \"subject\"];\r\nexport const ITEMS_PER_PAGE = 5;\r\nexport const GOOGLE_API = \"https://www.googleapis.com/books/v1/volumes/\";\r\n\r\nexport const DETAILS_FIELDS =\r\n    \"?fields = volumeInfo/title, volumeInfo/imageLinks/smallThumbnail/linkToCover,volumeInfo/authors, volumeInfo/publisher, volumeInfo/publishedDate, volumeInfo/language,volumeInfo/pageCount, volumeInfo/categories,volumeInfo/description, volumeInfo/industryIdentifiers, volumeInfo/printType, saleInfo/saleability, saleInfo/isEbook, saleInfo/listPrice, saleInfo/retailPrice, saleInfo/buyLink, accessInfo/webReaderLink, accessInfo/textToSpeechPermission\";\r\nexport const BOOK_FIELDS = \"&fields= items(id, volumeInfo/title, volumeInfo/authors, volumeInfo/publishedDate, volumeInfo/language, volumeInfo/categories,volumeInfo/subtitle )\";\r\nexport const FAVORITE_FIELDS = \"?fields= id,kind, volumeInfo/title, volumeInfo/authors, volumeInfo/publishedDate, volumeInfo/language, volumeInfo/categories,volumeInfo/subtitle\";\r\n\r\nexport const FAVORITE_BOOK_IDENTIFIER = \"books#volume\";\r\n\r\nexport const MAX_RESULTS = 40;\r\n// export const FAVORITE_BOOK_IDENTIFIER = { kind: \"books#volume\" };\r\n","import { RootStateType } from \".\";\r\n\r\nexport interface BookDetails {\r\n    id: string;\r\n    volumeInfo: {\r\n        title: string;\r\n        imageLinks: {\r\n            smallThumbnail: { linkToCover: string; label: string };\r\n            thumbnail: string;\r\n            small: string;\r\n            medium: string;\r\n            large: string;\r\n            extraLarge: string;\r\n        };\r\n        authors: (string | { [key: string]: string })[];\r\n        publisher: string;\r\n        publishedDate: string;\r\n        language: string;\r\n        pageCount: number;\r\n        categories: (string | { [key: string]: string })[];\r\n        industryIdentifiers: { type: string; identifier: string }[];\r\n        description: string;\r\n        printType: string;\r\n        subtitle?: string;\r\n    };\r\n    saleInfo: {\r\n        isEbook: boolean;\r\n        saleability: string;\r\n        listPrice: { amount: number; currencyCode: string };\r\n        retailPrice: { amount: number; currencyCode: string };\r\n        buyLink: string;\r\n    };\r\n    accessInfo: {\r\n        textToSpeechPermission: string;\r\n        webReaderLink: string;\r\n    };\r\n}\r\nexport type ID = BookDetails[\"id\"];\r\n\r\nexport interface BookRecord {\r\n    id: BookDetails[\"id\"];\r\n    volumeInfo: Pick<BookDetails[\"volumeInfo\"], \"title\" | \"authors\" | \"subtitle\" | \"publishedDate\" | \"language\" | \"categories\">;\r\n}\r\n\r\nexport interface Book extends Pick<BookDetails[\"volumeInfo\"], \"title\" | \"authors\" | \"subtitle\" | \"publishedDate\" | \"language\" | \"categories\"> {\r\n    id: BookDetails[\"id\"];\r\n}\r\nexport type Books = Book[];\r\n\r\nexport type KeyOfBook = keyof Book;\r\n\r\nexport interface FavoriteRecord extends Book {\r\n    kind: string;\r\n}\r\n\r\nexport type ColumnHeaders = \"Tytuł\" | \"Autorzy\" | \"Język\" | \"Etykiety\" | \"Podtytuł\" | \"Wydano\" | \"\";\r\n\r\nexport enum SearchableFields {\r\n    authors = \"authors\",\r\n    title = \"title\",\r\n    subject = \"subject\",\r\n}\r\n\r\nexport enum NotSearchableFields {\r\n    language = \"language\",\r\n    categories = \"categories\",\r\n    subtitle = \"subtitle\",\r\n    publishedDate = \"publishedDate\",\r\n    id = \"id\",\r\n}\r\n\r\nexport type AllFields = SearchableFields | NotSearchableFields;\r\n\r\nexport type FilteringCondition = {\r\n    [Item in KeyOfBook]?: string;\r\n};\r\n\r\nexport type PathKeys = \"not_found\" | \"error\" | \"data\" | \"details\" | \"books\" | \"search\" | \"load\" | \"landing\" | \"no_page\";\r\n\r\nexport type FilterObject = Partial<Record<ColumnHeaders, string>>;\r\n\r\nexport type RoundButtons = \"removeBook\" | \"addToFavorites\" | \"showFullInfo\" | \"removeBookFromFavorites\" | \"goToShop\" | \"test\";\r\n\r\nexport type BookID = { id: ID };\r\n\r\nexport interface BooksState {\r\n    books: Books;\r\n    currentPageNumber: number;\r\n    currentSortColumn: KeyOfBook | undefined;\r\n    data: Books;\r\n    errorMessage: string;\r\n    filter: FilteringCondition;\r\n    isSortOrderDescending: boolean;\r\n    numberOfPages: number;\r\n}\r\n\r\nexport interface GetTableDataParams {\r\n    books: RootStateType[\"books\"][\"books\"];\r\n    pageNumber: RootStateType[\"books\"][\"currentPageNumber\"];\r\n    isSortOrderDescending: boolean;\r\n    currentSortColumn: KeyOfBook | undefined;\r\n}\r\n","import { BooksState } from \"types\";\r\nimport { ITEMS_PER_PAGE } from \"config\";\r\n\r\n/**\r\n * calculates number of pages which is later applied in pagination\r\n * @param ary\r\n * @returns number of pages as integer\r\n */\r\nexport const getNumberOfPages = (ary: BooksState[\"books\"]): number => {\r\n    return Math.ceil(ary.length / ITEMS_PER_PAGE);\r\n};\r\n\r\nexport default getNumberOfPages;\r\n","import { BooksState } from \"types\";\r\nimport { ITEMS_PER_PAGE } from \"config\";\r\nimport getNumberOfPages from \"./getNumberOfPages\";\r\n\r\n/**\r\n * extracts from all data a part being given page content\r\n * @param index index of first element to be extracted in the array\r\n * @param dataArray array with data\r\n * @returns array with rows being content of current page\r\n */\r\nexport const getSinglePageData = (index: number, dataArray: BooksState[\"books\"]): BooksState[\"books\"] => {\r\n    const limit = getNumberOfPages(dataArray);\r\n    if (index > limit) index = limit;\r\n    const first = ITEMS_PER_PAGE * (index - 1);\r\n    const last = first + ITEMS_PER_PAGE > dataArray.length ? dataArray.length : first + ITEMS_PER_PAGE;\r\n\r\n    return dataArray.slice(first, last);\r\n};\r\n\r\nexport default getSinglePageData;\r\n","export default function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : String(i);\n}","import _typeof from \"./typeof.js\";\nexport default function toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","function toArray<T>(obj: { [x: string | number | symbol]: T }) {\r\n  return Object.entries(obj)\r\n    .sort((a, b) => {\r\n      return +a - +b;\r\n    })\r\n    .map(item => item[1]);\r\n}\r\nexport default toArray;\r\n","import { ColumnHeaders, SearchableFields, NotSearchableFields } from \"types\";\r\nimport toArray from \"./toArray\";\r\n// this enum exclusively keeps order of columns in the table\r\nenum Columns {\r\n    title,\r\n    authors,\r\n    language,\r\n    categories,\r\n    subtitle,\r\n    publishedDate,\r\n}\r\n\r\nexport enum ContentCategoryEnum {\r\n    string,\r\n    numericalString,\r\n}\r\n\r\ntype Header = {\r\n    [key in Columns]: ColumnHeaders;\r\n};\r\n\r\ntype contentCategories = {\r\n    [key in Columns]: ContentCategoryEnum;\r\n};\r\n\r\nenum Classes {\r\n    small = \"header__cell-small\",\r\n    large = \"header__cell-large\",\r\n}\r\n\r\ntype CellClasses = {\r\n    [key in Columns]: Classes;\r\n};\r\n\r\ntype sourceFields = {\r\n    [key in Columns]: Exclude<SearchableFields | NotSearchableFields, \"subject\">;\r\n};\r\n\r\nconst headers: Header = {\r\n    [Columns.title]: \"Tytuł\",\r\n    [Columns.authors]: \"Autorzy\",\r\n    [Columns.language]: \"Język\",\r\n    [Columns.categories]: \"Etykiety\",\r\n    [Columns.subtitle]: \"Podtytuł\",\r\n    [Columns.publishedDate]: \"Wydano\",\r\n};\r\n\r\nconst contentCategoriesObject: contentCategories = {\r\n    [Columns.title]: ContentCategoryEnum.string,\r\n    [Columns.authors]: ContentCategoryEnum.string,\r\n    [Columns.language]: ContentCategoryEnum.string,\r\n    [Columns.categories]: ContentCategoryEnum.string,\r\n    [Columns.subtitle]: ContentCategoryEnum.string,\r\n    [Columns.publishedDate]: ContentCategoryEnum.numericalString,\r\n};\r\n\r\nconst contentCellClassesObject: CellClasses = {\r\n    [Columns.title]: Classes.large,\r\n    [Columns.authors]: Classes.large,\r\n    [Columns.language]: Classes.large,\r\n    [Columns.categories]: Classes.small,\r\n    [Columns.subtitle]: Classes.small,\r\n    [Columns.publishedDate]: Classes.small,\r\n};\r\n\r\nconst withButtonsObject = {\r\n    [Columns.title]: false,\r\n    [Columns.authors]: false,\r\n    [Columns.language]: true,\r\n    [Columns.categories]: false,\r\n    [Columns.subtitle]: false,\r\n    [Columns.publishedDate]: false,\r\n};\r\n\r\nconst sourceFieldsObject: sourceFields = {\r\n    [Columns.title]: SearchableFields.title,\r\n    [Columns.authors]: SearchableFields.authors,\r\n    [Columns.language]: NotSearchableFields.language,\r\n    [Columns.categories]: NotSearchableFields.categories,\r\n    [Columns.subtitle]: NotSearchableFields.subtitle,\r\n    [Columns.publishedDate]: NotSearchableFields.publishedDate,\r\n};\r\n\r\nexport const columns = {\r\n    headers: toArray(headers),\r\n    contentCategories: toArray(contentCategoriesObject),\r\n    classes: toArray(contentCellClassesObject),\r\n    withButtons: toArray(withButtonsObject),\r\n    sourceFields: [...toArray(sourceFieldsObject), NotSearchableFields.id],\r\n    fields: [...toArray(sourceFieldsObject)],\r\n};\r\n","import { AllFields, BooksState } from \"types\";\r\nimport { columns, ContentCategoryEnum } from \"models/columns\";\r\n\r\ntype TrimFunction = (arg0: string) => string;\r\ntype TrimFunctions = {\r\n    [key in ContentCategoryEnum]: TrimFunction;\r\n};\r\n\r\nconst trimFunctions: TrimFunctions = {\r\n    [ContentCategoryEnum.string]: (str: string) => {\r\n        while (str.charCodeAt(0) <= 64 && str.length > 1) {\r\n            str = str.slice(1);\r\n        }\r\n        return str;\r\n    },\r\n\r\n    [ContentCategoryEnum.numericalString]: (str: string) => {\r\n        while (str.charCodeAt(0) < 48 || str.charCodeAt(0) > 57) {\r\n            str = str.slice(1);\r\n        }\r\n        return str;\r\n    },\r\n};\r\n\r\nconst sorts = {\r\n    stringAndNumericalStringSortFunction: (data: BooksState[\"books\"], isSortOrderDescending: BooksState[\"isSortOrderDescending\"], key: NonNullable<BooksState[\"currentSortColumn\"]>, trim: TrimFunction) => {\r\n        data.sort((OneBook, OtherBook) => {\r\n            const trimmedOneBook = trim(OneBook[key] as string);\r\n            const trimmedOtherBook = trim(OtherBook[key] as string);\r\n            if (isSortOrderDescending) {\r\n                if (trimmedOneBook < trimmedOtherBook) {\r\n                    return 1;\r\n                }\r\n                if (trimmedOneBook > trimmedOtherBook) {\r\n                    return -1;\r\n                }\r\n\r\n                return 0;\r\n            }\r\n            if (trimmedOneBook < trimmedOtherBook) {\r\n                return -1;\r\n            }\r\n            if (trimmedOneBook > trimmedOtherBook) {\r\n                return 1;\r\n            }\r\n\r\n            return 0;\r\n        });\r\n        return data; //\r\n    },\r\n};\r\n\r\nexport const sort = (data: BooksState[\"books\"], isSortOrderDescending: BooksState[\"isSortOrderDescending\"], key: NonNullable<BooksState[\"currentSortColumn\"]>) => {\r\n    try {\r\n        if (key) {\r\n            const numericalKey = columns.sourceFields.indexOf(key as Exclude<AllFields, \"subject\">);\r\n            const trim = trimFunctions[columns.contentCategories[numericalKey] as ContentCategoryEnum];\r\n            // sorts.stringAndNumericalStringSortFunction(data, isSortOrderDescending, key, trim);\r\n            data = sorts.stringAndNumericalStringSortFunction(data, isSortOrderDescending, key, trim);\r\n            return data; // nowa linia\r\n        }\r\n    } catch (err) {\r\n        return data;\r\n    } finally {\r\n        return data;\r\n    }\r\n};\r\n\r\nexport default sort;\r\n","/* eslint-disable no-restricted-globals */\n\nimport getSinglePageData from \"js/BooksManager/tableHelpers/getSinglePageData\";\nimport sort from \"js/BooksManager/tableHelpers/sort\";\nimport { GetTableDataParams } from \"types\";\n\nself.onmessage = (e: MessageEvent<GetTableDataParams>) => {\n    const sortedBooks = e.data.currentSortColumn ? sort(e.data.books, e.data.isSortOrderDescending, e.data.currentSortColumn) : e.data.books;\n    const data = getSinglePageData(e.data.pageNumber, sortedBooks);\n\n    self.postMessage(data);\n};\n\nexport {};\n"],"names":["SearchableFields","NotSearchableFields","ary","Math","ceil","length","index","dataArray","limit","getNumberOfPages","first","last","slice","_typeof","o","Symbol","iterator","constructor","prototype","toPropertyKey","t","i","r","e","toPrimitive","call","TypeError","String","Number","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","_arrayLikeToArray","arr","len","arr2","Array","_toConsumableArray","isArray","iter","from","minLen","n","toString","name","test","Columns","ContentCategoryEnum","Classes","entries","sort","a","b","map","item","headers","_headers","title","authors","language","categories","subtitle","publishedDate","contentCategoriesObject","_contentCategoriesObj","string","numericalString","contentCellClassesObject","_contentCellClassesOb","large","small","withButtonsObject","_withButtonsObject","sourceFieldsObject","_sourceFieldsObject","columns","toArray","contentCategories","classes","withButtons","sourceFields","concat","id","fields","trimFunctions","_trimFunctions","str","charCodeAt","sorts","data","isSortOrderDescending","trim","OneBook","OtherBook","trimmedOneBook","trimmedOtherBook","numericalKey","indexOf","err","self","onmessage","sortedBooks","currentSortColumn","books","getSinglePageData","pageNumber","postMessage"],"sourceRoot":""}