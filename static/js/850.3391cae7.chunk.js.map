{"version":3,"file":"static/js/850.3391cae7.chunk.js","mappings":"yDAyDYA,EAMAC,E,UCnDZ,EAJgC,SAACC,GAC7B,OAAOC,KAAKC,KAAKF,EAAIG,OCRK,EDS9B,EESA,EATiC,SAACC,EAAeC,GAC7C,IAAMC,EAAQC,EAAiBF,GAC3BD,EAAQE,IAAOF,EAAQE,GAC3B,IAAME,EDZoB,GCYMJ,EAAQ,GAClCK,EAAOD,EDba,ECaYH,EAAUF,OAASE,EAAUF,OAASK,EDblD,ECe1B,OAAOH,EAAUK,MAAMF,EAAOC,EAClC,E,qBH4CC,SAJWX,GAAAA,EAAgB,kBAAhBA,EAAgB,cAAhBA,EAAgB,kBAI3B,CAJWA,IAAAA,EAAgB,KAY3B,SANWC,GAAAA,EAAmB,oBAAnBA,EAAmB,wBAAnBA,EAAmB,oBAAnBA,EAAmB,8BAAnBA,EAAmB,QAM9B,CANWA,IAAAA,EAAmB,KIxD/B,I,UCJKY,EASOC,EAaPC,EDlBL,EAPA,SAAoBC,GAClB,OAAOC,OAAOC,QAAQF,GACnBG,MAAK,SAACC,EAAGC,GACR,OAAQD,GAAKC,CACf,IACCC,KAAI,SAAAC,GAAI,OAAIA,EAAK,EAAE,GACxB,GCHY,SAAPV,GAAAA,EAAAA,EAAO,iBAAPA,EAAAA,EAAO,qBAAPA,EAAAA,EAAO,uBAAPA,EAAAA,EAAO,2BAAPA,EAAAA,EAAO,uBAAPA,EAAAA,EAAO,kCAAPA,IAAAA,EAAO,KAYX,SAHWC,GAAAA,EAAAA,EAAmB,mBAAnBA,EAAAA,EAAmB,qCAG9B,CAHWA,IAAAA,EAAmB,KAanB,SAAPC,GAAAA,EAAO,2BAAPA,EAAO,4BAAPA,IAAAA,EAAO,KAaZ,I,EAAMS,GAAeC,EAAA,IAAAC,EAAAA,EAAAA,GAAAD,EAChBZ,EAAQc,MAAQ,eAAOD,EAAAA,EAAAA,GAAAD,EACvBZ,EAAQe,QAAU,YAASF,EAAAA,EAAAA,GAAAD,EAC3BZ,EAAQgB,SAAW,eAAOH,EAAAA,EAAAA,GAAAD,EAC1BZ,EAAQiB,WAAa,aAAUJ,EAAAA,EAAAA,GAAAD,EAC/BZ,EAAQkB,SAAW,kBAAUL,EAAAA,EAAAA,GAAAD,EAC7BZ,EAAQmB,cAAgB,UAAQP,GAG/BQ,GAA0CC,EAAA,IAAAR,EAAAA,EAAAA,GAAAQ,EAC3CrB,EAAQc,MAAQb,EAAoBqB,SAAMT,EAAAA,EAAAA,GAAAQ,EAC1CrB,EAAQe,QAAUd,EAAoBqB,SAAMT,EAAAA,EAAAA,GAAAQ,EAC5CrB,EAAQgB,SAAWf,EAAoBqB,SAAMT,EAAAA,EAAAA,GAAAQ,EAC7CrB,EAAQiB,WAAahB,EAAoBqB,SAAMT,EAAAA,EAAAA,GAAAQ,EAC/CrB,EAAQkB,SAAWjB,EAAoBqB,SAAMT,EAAAA,EAAAA,GAAAQ,EAC7CrB,EAAQmB,cAAgBlB,EAAoBsB,iBAAeF,GAG1DG,GAAqCC,EAAA,IAAAZ,EAAAA,EAAAA,GAAAY,EACtCzB,EAAQc,MAAQZ,EAAQwB,QAAKb,EAAAA,EAAAA,GAAAY,EAC7BzB,EAAQe,QAAUb,EAAQwB,QAAKb,EAAAA,EAAAA,GAAAY,EAC/BzB,EAAQgB,SAAWd,EAAQwB,QAAKb,EAAAA,EAAAA,GAAAY,EAChCzB,EAAQiB,WAAaf,EAAQyB,QAAKd,EAAAA,EAAAA,GAAAY,EAClCzB,EAAQkB,SAAWhB,EAAQyB,QAAKd,EAAAA,EAAAA,GAAAY,EAChCzB,EAAQmB,cAAgBjB,EAAQyB,OAAKF,GAGpCG,GAAiBC,EAAA,IAAAhB,EAAAA,EAAAA,GAAAgB,EAClB7B,EAAQc,OAAQ,IAAKD,EAAAA,EAAAA,GAAAgB,EACrB7B,EAAQe,SAAU,IAAKF,EAAAA,EAAAA,GAAAgB,EACvB7B,EAAQgB,UAAW,IAAIH,EAAAA,EAAAA,GAAAgB,EACvB7B,EAAQiB,YAAa,IAAKJ,EAAAA,EAAAA,GAAAgB,EAC1B7B,EAAQkB,UAAW,IAAKL,EAAAA,EAAAA,GAAAgB,EACxB7B,EAAQmB,eAAgB,GAAKU,GAG5BC,GAAgCC,EAAA,IAAAlB,EAAAA,EAAAA,GAAAkB,EACjC/B,EAAQc,MAAQ3B,EAAiB2B,QAAKD,EAAAA,EAAAA,GAAAkB,EACtC/B,EAAQe,QAAU5B,EAAiB4B,UAAOF,EAAAA,EAAAA,GAAAkB,EAC1C/B,EAAQgB,SAAW5B,EAAoB4B,WAAQH,EAAAA,EAAAA,GAAAkB,EAC/C/B,EAAQiB,WAAa7B,EAAoB6B,aAAUJ,EAAAA,EAAAA,GAAAkB,EACnD/B,EAAQkB,SAAW9B,EAAoB8B,WAAQL,EAAAA,EAAAA,GAAAkB,EAC/C/B,EAAQmB,cAAgB/B,EAAoB+B,eAAaY,GAGjDC,EAAU,CACnBrB,QAASsB,EAAQtB,GACjBuB,kBAAmBD,EAAQb,GAC3Be,QAASF,EAAQT,GACjBY,YAAaH,EAAQL,GACrBS,aAAa,GAADC,QAAAC,EAAAA,EAAAA,GAAMN,EAAQH,IAAmB,CAAE1C,EAAoBoD,KACnEC,QAAMF,EAAAA,EAAAA,GAAMN,EAAQH,KCjFlBY,GAA4BC,EAAA,IAAA9B,EAAAA,EAAAA,GAAA8B,EAC7B1C,EAAoBqB,QAAS,SAACsB,GAC3B,KAAOA,EAAIC,WAAW,IAAM,IAAMD,EAAIpD,OAAS,GAC3CoD,EAAMA,EAAI7C,MAAM,GAEpB,OAAO6C,CACX,KAAC/B,EAAAA,EAAAA,GAAA8B,EAEA1C,EAAoBsB,iBAAkB,SAACqB,GACpC,KAAOA,EAAIC,WAAW,GAAK,IAAMD,EAAIC,WAAW,GAAK,IACjDD,EAAMA,EAAI7C,MAAM,GAEpB,OAAO6C,CACX,IAACD,GAGCG,EACoC,SAACC,EAA2BC,EAAoEC,EAA2DC,GAuB7L,OAtBAH,EAAKzC,MAAK,SAAC6C,EAASC,GAChB,IAAMC,EAAiBH,EAAKC,EAAQF,IAC9BK,EAAmBJ,EAAKE,EAAUH,IACxC,OAAID,EACIK,EAAiBC,EACV,EAEPD,EAAiBC,GACT,EAGL,EAEPD,EAAiBC,GACT,EAERD,EAAiBC,EACV,EAGJ,CACX,IACOP,CACX,EAkBJ,EAfuB,SAACA,EAA2BC,EAAoEC,GACnH,IACI,GAAIA,EAAK,CACL,IAAMM,EAAevB,EAAQK,aAAamB,QAAQP,GAC5CC,EAAOR,EAAcV,EAAQE,kBAAkBqB,IAErD,OADAR,EAAOD,EAA2CC,EAAMC,EAAuBC,EAAKC,EAExF,CACJ,CAAE,MAAOO,GACL,OAAOV,CACX,CAAC,QACG,OAAOA,CACX,CACJ,E,UC/CO,IAaP,EAbwB,SAACA,EAA2BW,GAChD,QAAcC,IAAVD,EAAqB,OAAOX,EAGhC,OAAKa,EAAAA,EAAAA,SAAQF,GAKFX,GAJYR,EAAAA,EAAAA,GAAOQ,GACKc,QAAO,SAAAC,GAAG,OApBjD,SAAiBD,EAA4Bd,GACzC,IAAIgB,EAAc,CAAC,EACfC,GAAS,EACb,IAAK,IAAMC,KAAYJ,EACnBE,EAAYE,GAAYlB,EAAKkB,GAEjC,IAAK,IAAMA,KAAYF,EACdA,EAAYE,GAAUC,cAAcC,SAASN,EAAOI,GAAwBC,iBAC7EF,GAAS,GAGjB,OAAOA,CACX,CAQqDI,CAAQV,EAAOI,EAAI,GAKxE,E,UCvBAO,KAAKC,UAAY,SAACC,GACd,IAAAC,GAAAC,EAAAA,EAAAA,GAAA,GAA0CF,EAAExB,KAAK2B,MAAzCb,EAAMW,EAANX,OAAQvD,EAAIkE,EAAJlE,KAAMqE,EAAUH,EAAVG,WAChBC,EAAQL,EAAExB,KAAK6B,MAEfC,EAAgBhB,KAAWD,EAAAA,EAAAA,SAAQC,GAAUiB,EAASF,EAAOf,GAAUe,EACvEG,EAAczE,EAAK0E,kBAAoBC,EAAQJ,EAAevE,EAAK0C,sBAAuB1C,EAAK0E,mBAAqBH,EACpHK,EAAiBC,EAAkBR,EAAYI,GAC/CK,EAAgBxF,EAAiBmF,GAEjChC,EAAO,CAAEmC,eAAAA,EAAgBG,kBADLV,EAAaS,EAAgBA,EAAgBT,EACrBS,cAAAA,GAElDf,KAAKiB,YAAYvC,EACrB,C,GCjBIwC,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqB9B,IAAjB+B,EACH,OAAOA,EAAaC,QAGrB,IAAIC,EAASL,EAAyBE,GAAY,CACjDjD,GAAIiD,EACJI,QAAQ,EACRF,QAAS,CAAC,GAUX,OANAG,EAAoBL,GAAUM,KAAKH,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG3EI,EAAOC,QAAS,EAGTD,EAAOD,OACf,CAGAH,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAI,WAGvB,IAAIC,EAAsBV,EAAoBW,OAAExC,EAAW,CAAC,IAAI,IAAI,WAAa,OAAO6B,EAAoB,KAAO,IAEnH,OADAU,EAAsBV,EAAoBW,EAAED,EAE7C,E,WCrCA,IAAIE,EAAW,GACfZ,EAAoBW,EAAI,SAASnC,EAAQqC,EAAUC,EAAIC,GACtD,IAAGF,EAAH,CAMA,IAAIG,EAAeC,IACnB,IAASC,EAAI,EAAGA,EAAIN,EAAS5G,OAAQkH,IAAK,CACrCL,EAAWD,EAASM,GAAG,GACvBJ,EAAKF,EAASM,GAAG,GACjBH,EAAWH,EAASM,GAAG,GAE3B,IAJA,IAGIC,GAAY,EACPC,EAAI,EAAGA,EAAIP,EAAS7G,OAAQoH,MACpB,EAAXL,GAAsBC,GAAgBD,IAAanG,OAAOyG,KAAKrB,EAAoBW,GAAGW,OAAM,SAAS7D,GAAO,OAAOuC,EAAoBW,EAAElD,GAAKoD,EAASO,GAAK,IAChKP,EAASU,OAAOH,IAAK,IAErBD,GAAY,EACTJ,EAAWC,IAAcA,EAAeD,IAG7C,GAAGI,EAAW,CACbP,EAASW,OAAOL,IAAK,GACrB,IAAIM,EAAIV,SACE3C,IAANqD,IAAiBhD,EAASgD,EAC/B,CACD,CACA,OAAOhD,CArBP,CAJCuC,EAAWA,GAAY,EACvB,IAAI,IAAIG,EAAIN,EAAS5G,OAAQkH,EAAI,GAAKN,EAASM,EAAI,GAAG,GAAKH,EAAUG,IAAKN,EAASM,GAAKN,EAASM,EAAI,GACrGN,EAASM,GAAK,CAACL,EAAUC,EAAIC,EAwB/B,C,IC5BAf,EAAoByB,EAAI,SAAStB,EAASuB,GACzC,IAAI,IAAIjE,KAAOiE,EACX1B,EAAoB2B,EAAED,EAAYjE,KAASuC,EAAoB2B,EAAExB,EAAS1C,IAC5E7C,OAAOgH,eAAezB,EAAS1C,EAAK,CAAEoE,YAAY,EAAMC,IAAKJ,EAAWjE,IAG3E,ECPAuC,EAAoB+B,EAAI,CAAC,EAGzB/B,EAAoBjB,EAAI,SAASiD,GAChC,OAAOC,QAAQC,IAAItH,OAAOyG,KAAKrB,EAAoB+B,GAAGI,QAAO,SAASC,EAAU3E,GAE/E,OADAuC,EAAoB+B,EAAEtE,GAAKuE,EAASI,GAC7BA,CACR,GAAG,IACJ,ECPApC,EAAoBqC,EAAI,SAASL,GAEhC,MAAO,aAAeA,EAAU,IAAM,CAAC,EAAI,WAAW,IAAM,YAAYA,GAAW,WACpF,ECHAhC,EAAoBsC,SAAW,SAASN,GAGxC,ECJAhC,EAAoBuC,EAAI,WACvB,GAA0B,kBAAfC,WAAyB,OAAOA,WAC3C,IACC,OAAOC,MAAQ,IAAIC,SAAS,cAAb,EAChB,CAAE,MAAO3D,GACR,GAAsB,kBAAX4D,OAAqB,OAAOA,MACxC,CACA,CAPuB,GCAxB3C,EAAoB2B,EAAI,SAAShH,EAAKiI,GAAQ,OAAOhI,OAAOiI,UAAUC,eAAevC,KAAK5F,EAAKiI,EAAO,ECAtG5C,EAAoB+C,IAAM,SAAS3C,GAGlC,OAFAA,EAAO4C,MAAQ,GACV5C,EAAO6C,WAAU7C,EAAO6C,SAAW,IACjC7C,CACR,ECJAJ,EAAoBkD,EAAI,6C,WCIxB,IAAIC,EAAkB,CACrB,IAAK,GAkBNnD,EAAoB+B,EAAEb,EAAI,SAASc,EAASI,GAEvCe,EAAgBnB,IAElBoB,cAAcpD,EAAoBkD,EAAIlD,EAAoBqC,EAAEL,GAG/D,EAEA,IAAIqB,EAAqBxE,KAAwB,kBAAIA,KAAwB,mBAAK,GAC9EyE,EAA6BD,EAAmBE,KAAKC,KAAKH,GAC9DA,EAAmBE,KAzBA,SAAShG,GAC3B,IAAIsD,EAAWtD,EAAK,GAChBkG,EAAclG,EAAK,GACnBmG,EAAUnG,EAAK,GACnB,IAAI,IAAI0C,KAAYwD,EAChBzD,EAAoB2B,EAAE8B,EAAaxD,KACrCD,EAAoBQ,EAAEP,GAAYwD,EAAYxD,IAIhD,IADGyD,GAASA,EAAQ1D,GACda,EAAS7G,QACdmJ,EAAgBtC,EAAS8C,OAAS,EACnCL,EAA2B/F,EAC5B,C,eCtBA,IAAIqG,EAAO5D,EAAoBS,EAC/BT,EAAoBS,EAAI,WACvB,OAAOwB,QAAQC,IAAI,CAClBlC,EAAoBjB,EAAE,KACtBiB,EAAoBjB,EAAE,KACpB8E,KAAKD,EACT,C,ICL0B5D,EAAoBS,G","sources":["types/types.ts","js/tableHelpers/getNumberOfPages.ts","config.ts","js/tableHelpers/getSinglePageData.ts","models/toArray.ts","models/columns.ts","js/tableHelpers/sorting.ts","js/tableHelpers/filtrate.ts","hooks/useGetTableData/getTableDataWorker.ts","../webpack/bootstrap","../webpack/runtime/chunk loaded","../webpack/runtime/define property getters","../webpack/runtime/ensure chunk","../webpack/runtime/get javascript chunk filename","../webpack/runtime/get mini-css chunk filename","../webpack/runtime/global","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/node module decorator","../webpack/runtime/publicPath","../webpack/runtime/importScripts chunk loading","../webpack/runtime/startup chunk dependencies","../webpack/startup"],"sourcesContent":["import { RootStateType } from \".\";\r\n\r\nexport interface BookDetails {\r\n    id: string;\r\n    volumeInfo: {\r\n        title: string;\r\n        imageLinks: {\r\n            smallThumbnail: { linkToCover: string; label: string };\r\n            thumbnail: string;\r\n            small: string;\r\n            medium: string;\r\n            large: string;\r\n            extraLarge: string;\r\n        };\r\n        authors: (string | { [key: string]: string })[];\r\n        publisher: string;\r\n        publishedDate: string;\r\n        language: string;\r\n        pageCount: number;\r\n        categories: (string | { [key: string]: string })[];\r\n        industryIdentifiers: { type: string; identifier: string }[];\r\n        description: string;\r\n        printType: string;\r\n        subtitle?: string;\r\n    };\r\n    saleInfo: {\r\n        isEbook: boolean;\r\n        saleability: string;\r\n        listPrice: { amount: number; currencyCode: string };\r\n        retailPrice: { amount: number; currencyCode: string };\r\n        buyLink: string;\r\n    };\r\n    accessInfo: {\r\n        textToSpeechPermission: string;\r\n        webReaderLink: string;\r\n    };\r\n}\r\nexport type ID = BookDetails[\"id\"];\r\n\r\nexport interface BookRecord {\r\n    id: BookDetails[\"id\"];\r\n    volumeInfo: Pick<BookDetails[\"volumeInfo\"], \"title\" | \"authors\" | \"subtitle\" | \"publishedDate\" | \"language\" | \"categories\">;\r\n}\r\n\r\nexport interface Book extends Pick<BookDetails[\"volumeInfo\"], \"title\" | \"authors\" | \"subtitle\" | \"publishedDate\" | \"language\" | \"categories\"> {\r\n    id: BookDetails[\"id\"];\r\n}\r\nexport type Books = Book[];\r\n\r\nexport type KeyOfBook = keyof Book;\r\n\r\nexport interface FavoriteRecord extends Book {\r\n    kind: string;\r\n}\r\n\r\nexport type ColumnHeaders = \"Tytuł\" | \"Autorzy\" | \"Język\" | \"Etykiety\" | \"Podtytuł\" | \"Wydano\" | \"\";\r\n\r\nexport enum SearchableFields {\r\n    authors = \"authors\",\r\n    title = \"title\",\r\n    subject = \"subject\",\r\n}\r\n\r\nexport enum NotSearchableFields {\r\n    language = \"language\",\r\n    categories = \"categories\",\r\n    subtitle = \"subtitle\",\r\n    publishedDate = \"publishedDate\",\r\n    id = \"id\",\r\n}\r\n\r\nexport type AllFields = SearchableFields | NotSearchableFields;\r\n\r\nexport type FilteringCondition = {\r\n    [Item in KeyOfBook]?: string;\r\n};\r\n\r\nexport type PathKeys = \"not_found\" | \"error\" | \"data\" | \"details\" | \"books\" | \"search\" | \"load\" | \"landing\" | \"no_page\";\r\n\r\nexport type FilterObject = Partial<Record<ColumnHeaders, string>>;\r\n\r\nexport type RoundButtons = \"removeBook\" | \"addToFavorites\" | \"showFullInfo\" | \"removeBookFromFavorites\" | \"goToShop\" | \"test\";\r\n\r\nexport type BookID = { id: ID };\r\n\r\nexport interface BooksState {\r\n    books: Books;\r\n    currentPageNumber: number;\r\n    errorMessage: string;\r\n    filter: FilteringCondition;\r\n    sort: { isSortOrderDescending: boolean; currentSortColumn: KeyOfBook | undefined };\r\n    numberOfPages: number;\r\n}\r\n\r\nexport interface GetTableDataParams {\r\n    books: RootStateType[\"books\"][\"books\"];\r\n    args: GetTableDataArgs;\r\n    old: GetTableDataArgs;\r\n}\r\n\r\nexport interface GetTableDataArgs {\r\n    pageNumber: RootStateType[\"books\"][\"currentPageNumber\"];\r\n    filter: FilteringCondition;\r\n    sort: { isSortOrderDescending: boolean; currentSortColumn: KeyOfBook | undefined };\r\n}\r\n","import { BooksState } from \"types\";\r\nimport { ITEMS_PER_PAGE } from \"config\";\r\n\r\n/**\r\n * calculates number of pages which is later applied in pagination\r\n * @param ary\r\n * @returns number of pages as integer\r\n */\r\nexport const getNumberOfPages = (ary: BooksState[\"books\"]): number => {\r\n    return Math.ceil(ary.length / ITEMS_PER_PAGE);\r\n};\r\n\r\nexport default getNumberOfPages;\r\n","export const sourceGoogleFields = [\"inauthor\", \"intitle\", \"subject\"];\r\nexport const ITEMS_PER_PAGE = 5;\r\nexport const GOOGLE_API = \"https://www.googleapis.com/books/v1/volumes/\";\r\n\r\nexport const DETAILS_FIELDS =\r\n    \"?fields = volumeInfo/title, volumeInfo/imageLinks/smallThumbnail/linkToCover,volumeInfo/authors, volumeInfo/publisher, volumeInfo/publishedDate, volumeInfo/language,volumeInfo/pageCount, volumeInfo/categories,volumeInfo/description, volumeInfo/industryIdentifiers, volumeInfo/printType, saleInfo/saleability, saleInfo/isEbook, saleInfo/listPrice, saleInfo/retailPrice, saleInfo/buyLink, accessInfo/webReaderLink, accessInfo/textToSpeechPermission\";\r\nexport const BOOK_FIELDS = \"&fields= items(id, volumeInfo/title, volumeInfo/authors, volumeInfo/publishedDate, volumeInfo/language, volumeInfo/categories,volumeInfo/subtitle )\";\r\nexport const FAVORITE_FIELDS = \"?fields= id,kind, volumeInfo/title, volumeInfo/authors, volumeInfo/publishedDate, volumeInfo/language, volumeInfo/categories,volumeInfo/subtitle\";\r\n\r\nexport const FAVORITE_BOOK_IDENTIFIER = \"books#volume\";\r\n\r\nexport const MAX_RESULTS = 40;\r\n","import { BooksState } from \"types\";\r\nimport { ITEMS_PER_PAGE } from \"config\";\r\nimport getNumberOfPages from \"./getNumberOfPages\";\r\n\r\n/**\r\n * extracts from all data a part being given page content\r\n * @param index index of first element to be extracted in the array\r\n * @param dataArray array with data\r\n * @returns array with rows being content of current page\r\n */\r\nexport const getSinglePageData = (index: number, dataArray: BooksState[\"books\"]): BooksState[\"books\"] => {\r\n    const limit = getNumberOfPages(dataArray);\r\n    if (index > limit) index = limit;\r\n    const first = ITEMS_PER_PAGE * (index - 1);\r\n    const last = first + ITEMS_PER_PAGE > dataArray.length ? dataArray.length : first + ITEMS_PER_PAGE;\r\n\r\n    return dataArray.slice(first, last);\r\n};\r\n\r\nexport default getSinglePageData;\r\n","function toArray<T>(obj: { [x: string | number | symbol]: T }) {\r\n  return Object.entries(obj)\r\n    .sort((a, b) => {\r\n      return +a - +b;\r\n    })\r\n    .map(item => item[1]);\r\n}\r\nexport default toArray;\r\n","import { ColumnHeaders, SearchableFields, NotSearchableFields } from \"types\";\r\nimport toArray from \"./toArray\";\r\n// this enum exclusively keeps order of columns in the table\r\nenum Columns {\r\n    title,\r\n    authors,\r\n    language,\r\n    categories,\r\n    subtitle,\r\n    publishedDate,\r\n}\r\n\r\nexport enum ContentCategoryEnum {\r\n    string,\r\n    numericalString,\r\n}\r\n\r\ntype Header = {\r\n    [key in Columns]: ColumnHeaders;\r\n};\r\n\r\ntype contentCategories = {\r\n    [key in Columns]: ContentCategoryEnum;\r\n};\r\n\r\nenum Classes {\r\n    small = \"header__cell-small\",\r\n    large = \"header__cell-large\",\r\n}\r\n\r\ntype CellClasses = {\r\n    [key in Columns]: Classes;\r\n};\r\n\r\ntype sourceFields = {\r\n    [key in Columns]: Exclude<SearchableFields | NotSearchableFields, \"subject\">;\r\n};\r\n\r\nconst headers: Header = {\r\n    [Columns.title]: \"Tytuł\",\r\n    [Columns.authors]: \"Autorzy\",\r\n    [Columns.language]: \"Język\",\r\n    [Columns.categories]: \"Etykiety\",\r\n    [Columns.subtitle]: \"Podtytuł\",\r\n    [Columns.publishedDate]: \"Wydano\",\r\n};\r\n\r\nconst contentCategoriesObject: contentCategories = {\r\n    [Columns.title]: ContentCategoryEnum.string,\r\n    [Columns.authors]: ContentCategoryEnum.string,\r\n    [Columns.language]: ContentCategoryEnum.string,\r\n    [Columns.categories]: ContentCategoryEnum.string,\r\n    [Columns.subtitle]: ContentCategoryEnum.string,\r\n    [Columns.publishedDate]: ContentCategoryEnum.numericalString,\r\n};\r\n\r\nconst contentCellClassesObject: CellClasses = {\r\n    [Columns.title]: Classes.large,\r\n    [Columns.authors]: Classes.large,\r\n    [Columns.language]: Classes.large,\r\n    [Columns.categories]: Classes.small,\r\n    [Columns.subtitle]: Classes.small,\r\n    [Columns.publishedDate]: Classes.small,\r\n};\r\n\r\nconst withButtonsObject = {\r\n    [Columns.title]: false,\r\n    [Columns.authors]: false,\r\n    [Columns.language]: true,\r\n    [Columns.categories]: false,\r\n    [Columns.subtitle]: false,\r\n    [Columns.publishedDate]: false,\r\n};\r\n\r\nconst sourceFieldsObject: sourceFields = {\r\n    [Columns.title]: SearchableFields.title,\r\n    [Columns.authors]: SearchableFields.authors,\r\n    [Columns.language]: NotSearchableFields.language,\r\n    [Columns.categories]: NotSearchableFields.categories,\r\n    [Columns.subtitle]: NotSearchableFields.subtitle,\r\n    [Columns.publishedDate]: NotSearchableFields.publishedDate,\r\n};\r\n\r\nexport const columns = {\r\n    headers: toArray(headers),\r\n    contentCategories: toArray(contentCategoriesObject),\r\n    classes: toArray(contentCellClassesObject),\r\n    withButtons: toArray(withButtonsObject),\r\n    sourceFields: [...toArray(sourceFieldsObject), NotSearchableFields.id],\r\n    fields: [...toArray(sourceFieldsObject)],\r\n};\r\n","import { AllFields, BooksState } from \"types\";\r\nimport { columns, ContentCategoryEnum } from \"models/columns\";\r\n\r\ntype TrimFunction = (arg0: string) => string;\r\ntype TrimFunctions = {\r\n    [key in ContentCategoryEnum]: TrimFunction;\r\n};\r\n\r\nconst trimFunctions: TrimFunctions = {\r\n    [ContentCategoryEnum.string]: (str: string) => {\r\n        while (str.charCodeAt(0) <= 64 && str.length > 1) {\r\n            str = str.slice(1);\r\n        }\r\n        return str;\r\n    },\r\n\r\n    [ContentCategoryEnum.numericalString]: (str: string) => {\r\n        while (str.charCodeAt(0) < 48 || str.charCodeAt(0) > 57) {\r\n            str = str.slice(1);\r\n        }\r\n        return str;\r\n    },\r\n};\r\n\r\nconst sorts = {\r\n    stringAndNumericalStringSortFunction: (data: BooksState[\"books\"], isSortOrderDescending: BooksState[\"sort\"][\"isSortOrderDescending\"], key: NonNullable<BooksState[\"sort\"][\"currentSortColumn\"]>, trim: TrimFunction) => {\r\n        data.sort((OneBook, OtherBook) => {\r\n            const trimmedOneBook = trim(OneBook[key] as string);\r\n            const trimmedOtherBook = trim(OtherBook[key] as string);\r\n            if (isSortOrderDescending) {\r\n                if (trimmedOneBook < trimmedOtherBook) {\r\n                    return 1;\r\n                }\r\n                if (trimmedOneBook > trimmedOtherBook) {\r\n                    return -1;\r\n                }\r\n\r\n                return 0;\r\n            }\r\n            if (trimmedOneBook < trimmedOtherBook) {\r\n                return -1;\r\n            }\r\n            if (trimmedOneBook > trimmedOtherBook) {\r\n                return 1;\r\n            }\r\n\r\n            return 0;\r\n        });\r\n        return data;\r\n    },\r\n};\r\n\r\nexport const sorting = (data: BooksState[\"books\"], isSortOrderDescending: BooksState[\"sort\"][\"isSortOrderDescending\"], key: NonNullable<BooksState[\"sort\"][\"currentSortColumn\"]>) => {\r\n    try {\r\n        if (key) {\r\n            const numericalKey = columns.sourceFields.indexOf(key as Exclude<AllFields, \"subject\">);\r\n            const trim = trimFunctions[columns.contentCategories[numericalKey] as ContentCategoryEnum];\r\n            data = sorts.stringAndNumericalStringSortFunction(data, isSortOrderDescending, key, trim);\r\n            return data;\r\n        }\r\n    } catch (err) {\r\n        return data;\r\n    } finally {\r\n        return data;\r\n    }\r\n};\r\n\r\nexport default sorting;\r\n","import { isEmpty } from \"lodash\";\r\n\r\nimport { BooksState, FilteringCondition, Book, KeyOfBook } from \"types\";\r\n\r\nfunction compare(filter: FilteringCondition, data: Book) {\r\n    let reducedData = {} as any;\r\n    let result = true;\r\n    for (const property in filter) {\r\n        reducedData[property] = data[property as KeyOfBook];\r\n    }\r\n    for (const property in reducedData) {\r\n        if (!reducedData[property].toLowerCase().includes(filter[property as KeyOfBook]!.toLowerCase())) {\r\n            result = false;\r\n        }\r\n    }\r\n    return result;\r\n}\r\n\r\nexport const filtrate = (data: BooksState[\"books\"], filtr: BooksState[\"filter\"] | undefined) => {\r\n    if (filtr === undefined) return data;\r\n    let filtrateResult: typeof data = [];\r\n\r\n    if (!isEmpty(filtr)) {\r\n        const temporaryData = [...data];\r\n        filtrateResult = temporaryData.filter(row => compare(filtr, row));\r\n        return filtrateResult;\r\n    } else {\r\n        return data;\r\n    }\r\n};\r\n\r\nexport default filtrate;\r\n","/* eslint-disable no-restricted-globals */\r\n\r\nimport { getNumberOfPages, getSinglePageData, filtrate, sorting } from \"js/tableHelpers\";\r\nimport { GetTableDataParams } from \"types\";\r\nimport { isEmpty } from \"lodash/fp\";\r\n\r\nself.onmessage = (e: MessageEvent<GetTableDataParams>) => {\r\n    const { filter, sort, pageNumber } = { ...e.data.args };\r\n    const books = e.data.books;\r\n\r\n    const filteredBooks = filter && !isEmpty(filter) ? filtrate(books, filter) : books;\r\n    const sortedBooks = sort.currentSortColumn ? sorting(filteredBooks, sort.isSortOrderDescending, sort.currentSortColumn) : filteredBooks;\r\n    const singlePageData = getSinglePageData(pageNumber, sortedBooks);\r\n    const numberOfPages = getNumberOfPages(sortedBooks);\r\n    const currentPageNumber = pageNumber > numberOfPages ? numberOfPages : pageNumber;\r\n    const data = { singlePageData, currentPageNumber, numberOfPages };\r\n\r\n    self.postMessage(data);\r\n};\r\n\r\nexport {};\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n__webpack_require__.x = function() {\n\t// Load entry module and return exports\n\t// This entry module depends on other loaded chunks and execution need to be delayed\n\tvar __webpack_exports__ = __webpack_require__.O(undefined, [555,9], function() { return __webpack_require__(7850); })\n\t__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n\treturn __webpack_exports__;\n};\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + chunkId + \".\" + {\"9\":\"8ad8ec4e\",\"555\":\"b4f56d9f\"}[chunkId] + \".chunk.js\";\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"https://kiszuriwalilibori.github.io/books/\";","// no baseURI\n\n// object to store loaded chunks\n// \"1\" means \"already loaded\"\nvar installedChunks = {\n\t850: 1\n};\n\n// importScripts chunk loading\nvar installChunk = function(data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\tfor(var moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\twhile(chunkIds.length)\n\t\tinstalledChunks[chunkIds.pop()] = 1;\n\tparentChunkLoadingFunction(data);\n};\n__webpack_require__.f.i = function(chunkId, promises) {\n\t// \"1\" is the signal for \"already loaded\"\n\tif(!installedChunks[chunkId]) {\n\t\tif(true) { // all chunks have JS\n\t\t\timportScripts(__webpack_require__.p + __webpack_require__.u(chunkId));\n\t\t}\n\t}\n};\n\nvar chunkLoadingGlobal = self[\"webpackChunkbooks\"] = self[\"webpackChunkbooks\"] || [];\nvar parentChunkLoadingFunction = chunkLoadingGlobal.push.bind(chunkLoadingGlobal);\nchunkLoadingGlobal.push = installChunk;\n\n// no HMR\n\n// no HMR manifest","var next = __webpack_require__.x;\n__webpack_require__.x = function() {\n\treturn Promise.all([\n\t\t__webpack_require__.e(555),\n\t\t__webpack_require__.e(9)\n\t]).then(next);\n};","// run startup\nvar __webpack_exports__ = __webpack_require__.x();\n"],"names":["SearchableFields","NotSearchableFields","ary","Math","ceil","length","index","dataArray","limit","getNumberOfPages","first","last","slice","Columns","ContentCategoryEnum","Classes","obj","Object","entries","sort","a","b","map","item","headers","_headers","_defineProperty","title","authors","language","categories","subtitle","publishedDate","contentCategoriesObject","_contentCategoriesObj","string","numericalString","contentCellClassesObject","_contentCellClassesOb","large","small","withButtonsObject","_withButtonsObject","sourceFieldsObject","_sourceFieldsObject","columns","toArray","contentCategories","classes","withButtons","sourceFields","concat","_toConsumableArray","id","fields","trimFunctions","_trimFunctions","str","charCodeAt","sorts","data","isSortOrderDescending","key","trim","OneBook","OtherBook","trimmedOneBook","trimmedOtherBook","numericalKey","indexOf","err","filtr","undefined","isEmpty","filter","row","reducedData","result","property","toLowerCase","includes","compare","self","onmessage","e","_e$data$args","_objectSpread","args","pageNumber","books","filteredBooks","filtrate","sortedBooks","currentSortColumn","sorting","singlePageData","getSinglePageData","numberOfPages","currentPageNumber","postMessage","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","loaded","__webpack_modules__","call","m","x","__webpack_exports__","O","deferred","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","keys","every","splice","r","d","definition","o","defineProperty","enumerable","get","f","chunkId","Promise","all","reduce","promises","u","miniCssF","g","globalThis","this","Function","window","prop","prototype","hasOwnProperty","nmd","paths","children","p","installedChunks","importScripts","chunkLoadingGlobal","parentChunkLoadingFunction","push","bind","moreModules","runtime","pop","next","then"],"sourceRoot":""}